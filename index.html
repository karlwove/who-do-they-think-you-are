<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Who Do They Think You Are?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #4A3B6B;
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
            display: none;
        }

        .screen.active {
            display: flex;
        }

        /* Intro Screens */
        .intro-screen h1 {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 2rem;
        }

        .intro-screen h2 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
        }

        .intro-screen p {
            font-size: 1.2rem;
            line-height: 1.6;
            max-width: 800px;
            margin-bottom: 2rem;
        }

        .privacy-question {
            margin: 2rem 0;
        }

        .privacy-question p {
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .rating-scale {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 1rem 0;
        }

        .rating-btn {
            width: 50px;
            height: 50px;
            border: 2px solid white;
            background: transparent;
            color: white;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .rating-btn:hover, .rating-btn.selected {
            background: white;
            color: #4A3B6B;
        }

        .next-btn {
            background: transparent;
            border: 2px solid white;
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 2rem;
        }

        .next-btn:hover:not(:disabled) {
            background: white;
            color: #4A3B6B;
        }

        .next-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Scenario Screens */
        .scenario-container {
            width: 100%;
            max-width: 1000px;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .scenario-header {
            background: #F5F5F5;
            padding: 30px;
            color: #333;
        }

        .scenario-text {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .progress-container {
            background: #E9E9E9;
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-bar {
            background: #4A3B6B;
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .choices-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
            background: white;
        }

        .choice {
            background: #F8F9FA;
            border: 2px solid #E9ECEF;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: flex-start;
            text-align: left;
            color: #333;
            min-height: 120px;
        }

        .choice:hover {
            border-color: #4A3B6B;
            background: #F0F4FF;
            transform: translateY(-2px);
        }

        .choice-letter {
            background: #4A3B6B;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
            font-size: 1.1rem;
        }

        .choice-text {
            font-size: 1rem;
            line-height: 1.4;
            flex: 1;
        }

        /* Result Screens */
        .result-screen {
            background: linear-gradient(135deg, #E8D5FF, #F0E6FF);
            color: #333;
        }

        .result-container {
            max-width: 900px;
            text-align: left;
        }

        .profile-title {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-align: center;
        }

        .profile-subtitle {
            font-size: 1.2rem;
            text-align: center;
            margin-bottom: 2rem;
            opacity: 0.8;
        }

        .profile-section {
            background: rgba(255,255,255,0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .profile-section h3 {
            color: #4A3B6B;
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .profile-section p {
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .info-screen {
            text-align: center;
        }

        .info-screen h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
        }

        .info-screen p {
            font-size: 1.2rem;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto 2rem;
        }

        .final-screen {
            text-align: center;
        }

        .final-options {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .final-btn {
            background: transparent;
            border: 2px solid white;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 150px;
        }

        .final-btn:hover {
            background: white;
            color: #4A3B6B;
        }

        /* Mobile landscape optimizations */
        @media screen and (max-height: 600px) and (orientation: landscape) {
            .intro-screen h1 { font-size: 2.5rem; margin-bottom: 1rem; }
            .intro-screen h2 { font-size: 2rem; margin-bottom: 1rem; }
            .intro-screen p { font-size: 1rem; margin-bottom: 1rem; }
            .scenario-header { padding: 20px; }
            .choices-grid { padding: 20px; gap: 15px; }
            .choice { padding: 15px; min-height: 100px; }
            .profile-section { padding: 20px; margin-bottom: 15px; }
            .profile-title { font-size: 2.5rem; }
        }

        @media screen and (max-width: 900px) {
            .choices-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .choice {
                min-height: auto;
            }
        }
    </style>
</head>
<body>
    <!-- Game Title -->
    <div class="screen intro-screen active" id="title-screen">
        <h1>Hi!</h1>
        <p>Ready to discover what data brokers think about you?</p>
        <button class="next-btn" onclick="document.getElementById('title-screen').classList.remove('active'); document.getElementById('intro-screen').classList.add('active');">Let's begin</button>
    </div>

    <!-- Game Title -->
    <div class="screen intro-screen" id="intro-screen">
        <h2>WHO DO THEY THINK YOU ARE?</h2>
        <button class="next-btn" onclick="document.getElementById('intro-screen').classList.remove('active'); document.getElementById('game-intro').classList.add('active');">Next</button>
    </div>

    <!-- Game Intro -->
    <div class="screen intro-screen" id="game-intro">
        <h2>Who Do They Think You Are?</h2>
        <p>Your everyday digital choices create a detailed profile about who you are and what you want. But what does your data say about you? And who's watching?</p>
        <p>Follow one person's typical day and discover what data brokers learn from just a few simple decisions.</p>
        <button class="next-btn" onclick="document.getElementById('game-intro').classList.remove('active'); document.getElementById('scenario-1').classList.add('active');">Let's begin</button>
    </div>

    <!-- Scenarios -->
    <div class="screen" id="scenario-1">
        <div class="scenario-container">
            <div class="scenario-header">
                <div class="scenario-text"><strong>It's 7am.</strong> Your alarm goes off. What's your first move?</div>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 20%"></div>
                </div>
            </div>
            <div class="choices-grid">
                <div class="choice" onclick="document.getElementById('scenario-1').classList.remove('active'); document.getElementById('scenario-2').classList.add('active');">
                    <div class="choice-letter">A</div>
                    <div class="choice-text">Open a fitness app to track your workout</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-1').classList.remove('active'); document.getElementById('scenario-2').classList.add('active');">
                    <div class="choice-letter">B</div>
                    <div class="choice-text">Check social media to see what you missed</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-1').classList.remove('active'); document.getElementById('scenario-2').classList.add('active');">
                    <div class="choice-letter">C</div>
                    <div class="choice-text">Check work emails immediately</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-1').classList.remove('active'); document.getElementById('scenario-2').classList.add('active');">
                    <div class="choice-letter">D</div>
                    <div class="choice-text">Use a meditation app and share your streak</div>
                </div>
            </div>
        </div>
    </div>

    <div class="screen" id="scenario-2">
        <div class="scenario-container">
            <div class="scenario-header">
                <div class="scenario-text"><strong>It's 2pm.</strong> You notice an odd headache. What do you do?</div>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 40%"></div>
                </div>
            </div>
            <div class="choices-grid">
                <div class="choice" onclick="document.getElementById('scenario-2').classList.remove('active'); document.getElementById('scenario-3').classList.add('active');">
                    <div class="choice-letter">A</div>
                    <div class="choice-text">Research symptoms thoroughly online</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-2').classList.remove('active'); document.getElementById('scenario-3').classList.add('active');">
                    <div class="choice-letter">B</div>
                    <div class="choice-text">Message a friend who works in healthcare</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-2').classList.remove('active'); document.getElementById('scenario-3').classList.add('active');">
                    <div class="choice-letter">C</div>
                    <div class="choice-text">Walk to the pharmacy and buy paracetamol</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-2').classList.remove('active'); document.getElementById('scenario-3').classList.add('active');">
                    <div class="choice-letter">D</div>
                    <div class="choice-text">Book a same-day GP appointment through an app</div>
                </div>
            </div>
        </div>
    </div>

    <div class="screen" id="scenario-3">
        <div class="scenario-container">
            <div class="scenario-header">
                <div class="scenario-text"><strong>It's 3pm.</strong> You need new shoes. How do you shop?</div>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 60%"></div>
                </div>
            </div>
            <div class="choices-grid">
                <div class="choice" onclick="document.getElementById('scenario-3').classList.remove('active'); document.getElementById('scenario-4').classList.add('active');">
                    <div class="choice-letter">A</div>
                    <div class="choice-text">Research reviews and compare prices online</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-3').classList.remove('active'); document.getElementById('scenario-4').classList.add('active');">
                    <div class="choice-letter">B</div>
                    <div class="choice-text">Go to a Nike/Adidas online store and browse their latest</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-3').classList.remove('active'); document.getElementById('scenario-4').classList.add('active');">
                    <div class="choice-letter">C</div>
                    <div class="choice-text">Buy the pair you saw an influencer post about</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-3').classList.remove('active'); document.getElementById('scenario-4').classList.add('active');">
                    <div class="choice-letter">D</div>
                    <div class="choice-text">Order the exact same pair you had before</div>
                </div>
            </div>
        </div>
    </div>

    <div class="screen" id="scenario-4">
        <div class="scenario-container">
            <div class="scenario-header">
                <div class="scenario-text"><strong>Month-end.</strong> You're short on cash. What do you do?</div>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 80%"></div>
                </div>
            </div>
            <div class="choices-grid">
                <div class="choice" onclick="document.getElementById('scenario-4').classList.remove('active'); document.getElementById('scenario-5').classList.add('active');">
                    <div class="choice-letter">A</div>
                    <div class="choice-text">Open a budgeting app to track spending</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-4').classList.remove('active'); document.getElementById('scenario-5').classList.add('active');">
                    <div class="choice-letter">B</div>
                    <div class="choice-text">Message family asking for help</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-4').classList.remove('active'); document.getElementById('scenario-5').classList.add('active');">
                    <div class="choice-letter">C</div>
                    <div class="choice-text">Buy clothes on Klarna to feel better</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-4').classList.remove('active'); document.getElementById('scenario-5').classList.add('active');">
                    <div class="choice-letter">D</div>
                    <div class="choice-text">Sign up for a quick loan app you saw advertised</div>
                </div>
            </div>
        </div>
    </div>

    <div class="screen" id="scenario-5">
        <div class="scenario-container">
            <div class="scenario-header">
                <div class="scenario-text"><strong>Weekend.</strong> You're at a great restaurant. What do you do?</div>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 100%"></div>
                </div>
            </div>
            <div class="choices-grid">
                <div class="choice" onclick="document.getElementById('scenario-5').classList.remove('active'); document.getElementById('results-intro').classList.add('active');">
                    <div class="choice-letter">A</div>
                    <div class="choice-text">Enjoy the meal and maybe tell close friends later</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-5').classList.remove('active'); document.getElementById('results-intro').classList.add('active');">
                    <div class="choice-letter">B</div>
                    <div class="choice-text">Take photos and post them immediately with location</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-5').classList.remove('active'); document.getElementById('results-intro').classList.add('active');">
                    <div class="choice-letter">C</div>
                    <div class="choice-text">Research the chef and restaurant history on your phone</div>
                </div>
                <div class="choice" onclick="document.getElementById('scenario-5').classList.remove('active'); document.getElementById('results-intro').classList.add('active');">
                    <div class="choice-letter">D</div>
                    <div class="choice-text">Check in on the restaurant's app for loyalty points</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Transition -->
    <div class="screen intro-screen" id="results-intro">
        <h2>OK GREAT STUFF.</h2>
        <p>You've made your choices and shared your data. Data brokers tracked every decision, packaged it into a profile, and are now ready to sell it to companies wanting to influence you. Let's take a look at what they categorised you as...</p>
        <button class="next-btn" onclick="document.getElementById('results-intro').classList.remove('active'); document.getElementById('profile-result').classList.add('active');">Next</button>
    </div>

    <!-- Profile Result -->
    <div class="screen result-screen" id="profile-result">
        <div class="result-container">
            <div class="profile-title" id="profile-name">The Insecure Perfectionist</div>
            <div class="profile-subtitle" id="profile-axes">Status-Conscious + Control + Reassurance-Seeking</div>
            
            <div class="profile-section">
                <h3>What data brokers see:</h3>
                <p id="broker-description">Obsesses over image but needs constant validation. Researches extensively but still seeks external approval for decisions.</p>
            </div>
            
            <div class="profile-section">
                <h3>Who's interested:</h3>
                <p id="interested-parties">Premium brands with social proof, luxury review platforms, status-driven subscription services</p>
            </div>
            
            <div class="profile-section">
                <h3>Real-world impact:</h3>
                <p id="real-impact">Targeted with "exclusive member" messaging, influencer testimonials, and detailed comparison content that validates expensive choices.</p>
            </div>
        </div>
        <button class="next-btn" onclick="nextScreen()">Next</button>
    </div>

    <!-- Education Screens -->
    <div class="screen info-screen" id="so-what">
        <h2>SO WHAT?</h2>
        <p>In this game we only tracked 5 simple data points - which is absolutely nothing. In reality, <em>millions</em> of data points are collected about you over years and years, giving data brokers a rich understanding of your conscious and unconscious biases and behaviours.</p>
        <button class="next-btn" onclick="nextScreen()">Next</button>
    </div>

    <div class="screen info-screen" id="mozilla-fact">
        <h2>IN FACT</h2>
        <p>In the US, by the time a child turns 13, more than <strong>72 million pieces of personal data</strong> have been collected about them on the internet, creating comprehensive behavioural profiles from birth (Mozilla Foundation)</p>
        <button class="next-btn" onclick="nextScreen()">Next</button>
    </div>

    <div class="screen info-screen" id="ireland-fact">
        <h2>CLOSER TO HOME</h2>
        <p>A recent RTÉ Prime Time investigation revealed there are companies selling personal data that reveals people's exact live location, tracking movements from home to work and everywhere in between. Link.</p>
        <button class="next-btn" onclick="nextScreen()">Next</button>
    </div>

    <div class="screen info-screen" id="what-next">
        <h2>WHAT NEXT?</h2>
        <p>Every time you accept cookies, T&Cs or enable location tracking, you opt into increased tracking. Behind this is a hidden but sophisticated industry where everyone from advertisers to political parties to scammers can buy detailed information about you without your knowledge or consent.</p>
        <p>This simple game raises awareness of that space. To learn more, we've gathered videos and links on the next page.</p>
        <button class="next-btn" onclick="nextScreen()">Next</button>
    </div>

    <!-- Final Screen -->
    <div class="screen final-screen" id="final-screen">
        <h2>WHERE NEXT?</h2>
        <div class="final-options">
            <button class="final-btn" onclick="shareGame()">Share this game?</button>
            <button class="final-btn" onclick="learnMore()">Learn more with some further reading</button>
            <button class="final-btn" onclick="restartGame()">Play again?</button>
        </div>
        <p style="margin-top: 3rem; font-size: 1rem;">Credits</p>
    </div>

    <script>
        // Global variables
        var currentScreenIndex = 0;
        var userChoices = [];

        var screens = [
            'title-screen', 'intro-screen', 
            'scenario-1', 'scenario-2', 'scenario-3', 'scenario-4', 'scenario-5',
            'results-intro', 'profile-result', 'so-what', 'mozilla-fact', 'ireland-fact', 
            'what-next', 'final-screen'
        ];

        // Define functions in global scope
        function nextScreen() {
            console.log('nextScreen called, current index:', currentScreenIndex);
            
            // Special handling for title screen - auto advance after delay
            if (screens[currentScreenIndex] === 'title-screen') {
                setTimeout(function() {
                    document.getElementById(screens[currentScreenIndex]).classList.remove('active');
                    currentScreenIndex++;
                    document.getElementById(screens[currentScreenIndex]).classList.add('active');
                }, 1500);
                return;
            }

            document.getElementById(screens[currentScreenIndex]).classList.remove('active');
            currentScreenIndex++;
            
            if (currentScreenIndex < screens.length) {
                document.getElementById(screens[currentScreenIndex]).classList.add('active');
            }
        }

        function makeChoice(scenarioIndex, choiceIndex) {
            console.log('Choice made:', scenarioIndex, choiceIndex);
            userChoices[scenarioIndex] = choiceIndex;
            
            // Move to next scenario or results
            setTimeout(function() {
                nextScreen();
            }, 300);
        }

        function restartGame() {
            currentScreenIndex = 0;
            userChoices = [];
            
            // Reset all screens
            document.querySelectorAll('.screen').forEach(function(screen) {
                screen.classList.remove('active');
            });
            
            // Show first screen
            document.getElementById('title-screen').classList.add('active');
        }

        function shareGame() {
            if (navigator.share) {
                navigator.share({
                    title: 'Who Do They Think You Are?',
                    text: 'Discover what data brokers learn about you from your digital choices',
                    url: window.location.href
                });
            } else {
                // Fallback for browsers without Web Share API
                var url = window.location.href;
                navigator.clipboard.writeText(url).then(function() {
                    alert('Game link copied to clipboard!');
                }).catch(function() {
                    alert('Share this link: ' + url);
                });
            }
        }

        function learnMore() {
            // This would link to your resources page
            alert('This would link to your curated resources about data privacy and protection.');
        }

        const screens = [
            'title-screen', 'intro-screen', 
            'scenario-1', 'scenario-2', 'scenario-3', 'scenario-4', 'scenario-5',
            'results-intro', 'profile-result', 'so-what', 'mozilla-fact', 'ireland-fact', 
            'what-next', 'final-screen'
        ];

        // Mapping choices to psychological axes
        const choiceProfiles = [
            // Scenario 1: Morning
            [
                ['practical', 'control', 'selfassured'],      // A: Fitness app
                ['status', 'convenience', 'reassurance'],     // B: Social media
                ['reassurance', 'convenience'],               // C: Work emails  
                ['status', 'control', 'reassurance']         // D: Meditation + share
            ],
            // Scenario 2: Headache
            [
                ['control', 'reassurance'],                   // A: Research symptoms
                ['reassurance', 'control'],                   // B: Message friend
                ['practical', 'control'],                     // C: Pharmacy
                ['control', 'convenience', 'reassurance']     // D: GP app
            ],
            // Scenario 3: Shoes
            [
                ['control', 'reassurance'],                   // A: Research reviews
                ['status', 'control'],                        // B: Brand store
                ['status', 'convenience', 'reassurance'],     // C: Influencer
                ['practical', 'convenience']                  // D: Same pair
            ],
            // Scenario 4: Money
            [
                ['control', 'practical'],                     // A: Budgeting app
                ['control', 'selfassured'],                   // B: Message family
                ['status', 'convenience'],                    // C: Klarna clothes
                ['convenience', 'reassurance']                // D: Loan app
            ],
            // Scenario 5: Restaurant
            [
                ['practical', 'selfassured'],                 // A: Enjoy privately
                ['status', 'convenience', 'reassurance'],     // B: Post with location
                ['control', 'reassurance'],                   // C: Research chef
                ['practical', 'convenience']                  // D: Loyalty app
            ]
        ];

        const profiles = {
            'status_control_reassurance': {
                name: 'The Insecure Perfectionist',
                axes: 'Status-Conscious + Control + Reassurance-Seeking',
                broker: 'Obsesses over image but needs constant validation. Researches extensively but still seeks external approval for decisions.',
                interested: 'Premium brands with social proof, luxury review platforms, status-driven subscription services',
                impact: 'Targeted with "exclusive member" messaging, influencer testimonials, and detailed comparison content that validates expensive choices.'
            },
            'status_control_selfassured': {
                name: 'The Confident Trendsetter',
                axes: 'Status-Conscious + Control + Self-Assured',
                broker: 'Image-conscious but makes independent decisions. Curates their lifestyle deliberately and trusts their own taste.',
                interested: 'High-end brands, early adopter programs, lifestyle publications',
                impact: 'Gets exclusive early access offers, premium product launches, and "insider" brand communications.'
            },
            'status_convenience_reassurance': {
                name: 'The Status Seeker',
                axes: 'Status-Conscious + Convenience + Reassurance-Seeking',
                broker: 'Wants to look good with minimal effort. Highly influenced by trends, social proof, and what others are buying.',
                interested: 'Fast fashion, viral product marketers, social media advertisers',
                impact: 'Flooded with trending products, influencer partnerships, and "everyone\'s buying this" social proof campaigns.'
            },
            'status_convenience_selfassured': {
                name: 'The Effortless Cool',
                axes: 'Status-Conscious + Convenience + Self-Assured',
                broker: 'Cares about image but trusts their instincts. Buys stylish things easily without overthinking.',
                interested: 'Luxury convenience brands, subscription lifestyle services, premium delivery apps',
                impact: 'Targeted with effortless luxury messaging, curated selections, and "made for people like you" campaigns.'
            },
            'practical_control_reassurance': {
                name: 'The Anxious Optimizer',
                axes: 'Practical + Control + Reassurance-Seeking',
                broker: 'Wants the best value but needs validation through reviews and research. Overthinks practical purchases.',
                interested: 'Comparison sites, review platforms, consumer guides, insurance companies',
                impact: 'Overwhelmed with detailed comparisons, "expert recommended" products, and analysis paralysis-inducing choice architectures.'
            },
            'practical_control_selfassured': {
                name: 'The Self-Reliant Planner',
                axes: 'Practical + Control + Self-Assured',
                broker: 'Makes thoughtful, independent decisions focused on utility. Hardest to influence and track.',
                interested: 'Tool manufacturers, professional services, privacy-focused brands',
                impact: 'Charged premium for privacy-respecting services. Excluded from mainstream marketing but valuable for quality-focused brands.'
            },
            'practical_convenience_reassurance': {
                name: 'The Convenience Validator',
                axes: 'Practical + Convenience + Reassurance-Seeking',
                broker: 'Wants efficient solutions but needs social proof to feel confident. Susceptible to "most popular" messaging.',
                interested: 'Amazon-style platforms, rating-driven services, "most trusted" brands',
                impact: 'Shown products with high ratings, "bestseller" tags, and popularity-based recommendations that exploit need for validation.'
            },
            'practical_convenience_selfassured': {
                name: 'The Efficient Minimalist',
                axes: 'Practical + Convenience + Self-Assured',
                broker: 'Values simplicity and efficiency. Makes quick, practical decisions without needing external validation.',
                interested: 'Utility-focused brands, subscription services, automation tools',
                impact: 'Targeted with "set it and forget it" services, bulk buying options, and time-saving solutions that prioritize function over form.'
            }
        };

        function selectRating(rating, type) {
            // Clear previous selections
            const buttons = document.querySelectorAll(`#${type === 'pre' ? 'pre-question' : 'post-question'} .rating-btn`);
            buttons.forEach(btn => btn.classList.remove('selected'));
            
            // Mark selected
            event.target.classList.add('selected');
            
            if (type === 'pre') {
                preRating = rating;
                document.getElementById('pre-next').disabled = false;
            } else {
                postRating = rating;
                document.getElementById('post-next').disabled = false;
            }
        }

        function nextScreen() {
            // Special handling for title screen - auto advance after delay
            if (screens[currentScreenIndex] === 'title-screen') {
                setTimeout(() => {
                    document.getElementById(screens[currentScreenIndex]).classList.remove('active');
                    currentScreenIndex++;
                    document.getElementById(screens[currentScreenIndex]).classList.add('active');
                }, 1500);
                return;
            }

            document.getElementById(screens[currentScreenIndex]).classList.remove('active');
            currentScreenIndex++;
            
            if (currentScreenIndex < screens.length) {
                document.getElementById(screens[currentScreenIndex]).classList.add('active');
            }
        }

        function makeChoice(scenarioIndex, choiceIndex) {
            userChoices[scenarioIndex] = choiceIndex;
            
            // Move to next scenario or results
            setTimeout(() => {
                nextScreen();
            }, 300);
        }

        function calculateProfile() {
            const traitCounts = {
                status: 0, practical: 0,
                control: 0, convenience: 0,
                reassurance: 0, selfassured: 0
            
